\title{World Robotic Sailing Championship 2018 \\
Notice of race and competition rules \\V0.1}
\date{\today}
\documentclass[12pt]{article}

\usepackage{tabularx}
\usepackage{pdflscape}
\begin{document}
\maketitle
% GOALS:
% - Scoring based on data, measurable success
% - KISS -> simplify as far as possible
% - Additive success: No loss of all points, generally no loss of points!

\section{Introduction}

The World Robotic Sailing Championship 2018 will be organized in Southampton,
UK, from 26\textsuperscript{th} to 30\textsuperscript{th} of August.
The World Robotic Sailing Championship will be followed by
the International Robotic Sailing Conference that will be held on August
31\textsuperscript{st} and September 1\textsuperscript{st} at the University of
Southampton.
The organizing committee invites teams from any organization, including private
individuals, schools, colleges, universities and companies, to enter the competition. 
Each team competes with one boat; the team members can be shared among different teams. 
The championship will be organized in 4 challenges, each one tentatively allocated to a single day.

\section{Classes}

The World Robotic Sailing Championship is open to vessels propelled entirely by
wind. The vessels must use only wind and wave energy for propulsion. 
Besides the more traditional soft or rigid sailing rigs, wind energy may also 
be used to power a propeller or a paddle-wheel driven by a wind turbine. 
The coupling between the wind turbine and the propulsion unit may be done by 
mechanical or electrical means, providing that the use of other energy sources
is clearly inhibited. The teams must be able to clearly demonstrate 
this to the race committee.
Vessels may use any type of hull (mono or multi) and any type of rig, with
one or more soft or rigid sails. The beam of multi-hulls should not exceed their 
LOA and the maximum draft of any boat should be limited to 2 m. 
Hydrofoils are allowed. Sails and appendages may be changed between challenges.

The two classes considered in WRSC 2018 are:
\begin{itemize}
  \item Micro-sailboats (MS): small autonomous sailboats up to 1.5 m LOA and weighting no more than 100 kg.
  \item Sailboats (S): autonomous sailboats which do not fit in the micro-sailboats category, up to
4.2 meters LOA and weighting no more than 500 kg.
\end{itemize}

\section{Liability and Safety}
All sailing robots must be controllable by a designated human helmsman
throughout all events. The responsibility for avoiding any collision, 
damage or personal injuries will rest solely with the respective teams. 
The organizers will not assume any liability with respect to third party
damages, personal injuries or environmental contamination resulting from any
activity of a team participating in the WRSC. All teams are responsible for 
their own safety during the event and the decision to participate in the 
competitions is of the exclusive responsibility of the team members.
Before being allowed to compete, each team has to register a person of contact
who will be held responsible for any damage, injury or environmental
contamination resulting from any activity of the team, including the 
operation of their vessel.

All sailing boats will be under the supervision of a motor boat provided by the
organization.
All people on board of a motor boat must follow the safety instructions of the driver 
and must provide their own personal floatation device which must be worn at all times 
while on or near the water. Access to the safety boats is available to at least
one team member per team, however the safety crews reserve the
right to manage the fleet of support boats, and can refuse access to the support
boats.
All team members must follow the safety instructions of the competition
organisers, the safety boat crew and the activity centre personnel. The organization
reserves the right to refuse access to restricted areas.
For safety reasons, the race area will be confined to a region delimited by 4
marks. 

Figure 1
shows approximately the area requested for WRSC that may be subject to last
minute adjustments.


\section{Collisions and Right of Way}
Autonomous boats have right of way over manually controlled boats. In the event
of a potential
collision, then COLREGs rules must be followed (for example, a boat on a
starboard tack has
right of way, etc). However, all competitors must take appropriate actions to
avoid collisions
and having right of way is not an acceptable excuse for allowing a collision to
take place.
Remote control is allowed to avoid imminent collisions for the boat with no 
right of way. Alternatively, a collision may also be
prevented by manually holding the boat with no right of way, but ensuring that 
its position and heading is maintained until the risk of collision has passed. 
In the case a boat gets entangled with a buoy or any other
floating debris (seaweed, lines, fishing nets, etc) it can be assisted manually,
as long as no advantage is given to the boat and the required safety boat has
not higher priority tasks.

Any remote controlled or manual measures during a challenge must be
communicated to the race committee directly after the challenge.

\section{Remote control}
All teams are required to be able to take over remote-control of their boats
through a wireless connection (WiFi, RC, \ldots). The country specific 
regulations on wireless communication must be obeyed, e.g. Wifi boosters beyond
the allowed limits may not be used.
Should the race committee have doubts about the remote controllability it may
ask for a demonstration and restrict participation in challenges.

Remote control is allowed to transport competing vessels to the challenge area,
but must be switched off several metres from the start line, with the vessel
facing away from the start line.


\section{Scoring}
The WRSC is organized in 4 challenges scheduled for each day of the event: fleet
race, station keeping, area scanning and obstacle avoidance. The scoring for each 
challenge will be based on automatic tracked data to establish a ranking 
(1st to Nth position) that will measure the relative
ability to accomplish each task. A team that decides against participating in
one of the challenges, or does not fulfil the minimum objectives defined for
each challenge, will be given a ranking equal to the number of teams registered 
in its category plus 1. Whenever possible
the results will be posted in the Race Office at the end of each day.
Each challenge will give a prize for the first place in each class; the team
with the lowest sum of ranking obtained in each challenge will be declared the
absolute winner of the World Robotic Sailing Championship.

\section{Data recording}
\subsection{Measurement units}
All measurements for scoring are to be made in SI units, with the exception of
angles and latitude/longitude measurements, which should use degrees in
decimals, e.g. 60.3456º (chart datum: WGS-84).

The position must be tracked for all data as detailed in the next section.
Some challenges offer bonus points for recording specific data, which will be
detailed in the challenge description.

\subsection{Tracking}
Each boat has to fit an official standalone tracking device of ca. 5cmx3cmx10cm
size, positioned suitably for GPS reception. Additionally the competing boats
should be able to provide the race committee with the tracking data recorded
from their own global navigation satellite system (e.g. GPS), since this will be
used in case of failure of the official device.
The tracking data to be provided by each boat should include a timestamp and the
lat/lon coordinates, with not less than one track point per second. 
This data may be provided either in CSV (comma-separated values) or binary format.
All CSV format files must use three decimal integer number per line,
representing: timestamp, $Lat*10^7$, $Lon*10^7$.
The binary file format uses 12-byte records representing the three 
32-bit signed integers of the CSV format in two’s complement. The storage order may be
little-endian or big-endian, the chosen order must be specified by the team.
The allowed data formats are detailed in table \ref{tab:dataformats}
\begin{landscape}
\centering
\begin{table}
\caption{Overview of position data formats}
\label{tab:dataformats}
\small{
\begin{tabular}{l|p{6cm}|p{8cm}|r}
name   & date format & example & 9h recording filesize\\
\hline
CSV-2s & hhmmssdd (representing
the hour hh, minute mm, second ss and day dd of the month) &
line representing 14:23:34 on the 7th of September (month is not logged!) at lat=41.6887091º (north) and lon = -8.8259850º (west):
``14233407, 416887091, -88259850'' &
1 MByte\\ \hline

CSV-3s & hhmmsssdd, using 3 digits for the field representing the
seconds, where the third digit (rightmost) represents the decimal part of
seconds & line representing 14:23:34.8 on the 7th of September at
lat=41.6887091º (north) and lon=-8.8259850º (west):
``142334807, 416887091, -88259850''&
1 MByte \\ \hline

CSV-ms & GPS\_miliseconds-of-the-week, the number of miliseconds since 00:00 last Sunday &
line representing 16:03:29.123 of Wednesday at
lat=41.6887091º (north) and lon=-8.8259850º (west):
 “317009123, 416887091, - 88259850”&
1 MByte\\ \hline

Binary-2s &
binary file using the CSV-2s format&
&
388 KByte \\ \hline

Binary-3s &
binary file using the CSV-3s format&
&
388 KByte\\ \hline

Binary-ms &
binary file using the CSV-ms format &
&
388 KByte\\ \hline
\end{tabular}
}
\end{table}
\end{landscape}



\section{Challenges}
WRSC will be organized in 4 challenges: fleet race, station keeping, area
scanning and obstacle avoidance.
Two course areas may be set in different regions, using smaller courses for the
micro-sailboat class and larger regions for the sailboat class. 

The challenges will only be run with a minimum sustained wind speed of 6 knots
(approximately 3m/s) and a maximum gust wind speed of 20 knots.
Each challenge has a time limit. Scores are only counted up to the time limit 
and teams are asked to finish their attempt and clear the area for the next team 
at the end of the time limit. 
If weather and time allows, challenges can be attempted a
second time, counting the better attempt. Teams that have not had a
first attempt yet get privileged access to GPS trackers and safety boats.

The precise locations and time limits will be announced in the morning of each challenge, 
according to the regional short-term weather forecast.
The race committee may decide to change the challenge days, run challenges over
multiple days, or run multiple challenges in one day if deemed necessary due 
to weather conditions.

The next sections give details on the rules for each of the challenges.

\subsection{Fleet race}

This challenge is based on the classical triangular sailing race course
All boats will start together and race around a triangular course. Separate
courses and start times may be used for the different classes.

\subsubsection{Scoring}
A mark/buoy is considered reached if at least one
track point is recorded within a radius of 5m around the position of the
(virtual) buoy.

Teams are scored based on the time between crossing the start line and crossing
the finish line. Teams that do not complete the race will be scored based
according to number of markers they reached in the correct order. Teams reaching
the same number of markers will be distinguished based on their time between
crossing the start line and arriving at their last marker. Teams starting more
than 15 minutes after the official start time will receive a 10\% time penalty.

\subsubsection{Minimum objective}
To be considered for the scoring, the vessel must complete at least the first
leg, from the start line to the first buoy.

\subsection{Station keeping}
The station keeping (or virtual anchoring) challenge will use a single waypoint P
(see figure 3).
The sailing boats will have to keep navigating as close as possible to that
waypoint during 5
minutes after entering a circle with a radius R=20m around that waypoint.

\subsubsection{Scoring}
An individual score will be calculated as the minimum radius Rmin centered in
another point Pc that contains 95\% of the points logged (by the boat or the by the tracking
devices), normalized to the length overall (LOA) of the boat (Rmin/ LOA). 
To account for the GPS error, Pc will be
considered instead of P, where Pc is obtained as the average of the coordinates
of all the points
registered during the 5 minutes after entering the circle with a radius R=20m
(green dots in
figure 3). To be qualified in this contest, the point Pc must be inside the red
circle, regardless
of the positions of the points recorded during the 5 minute period.
Figure 3 illustrates this procedure. The sailboat track is considered during 5
minutes after
entering the red circle (20m radius, centered in the reference waypoint P); the
average of the
coordinates of all recorded track points during the 5 mins (green dots) gives
point Pc; the score
is calculated with the radius of the blue circle centered in Pc that contains
95\% of the valid
track points. The contest starts by releasing the sailing boat at least 40m away
from the
reference waypoint P. Depending on the weather conditions, a maximum of 3
attempts may be
done by each sailboat and the best score among the three attempts will be used
to build the
final ranking for this challenge.
\subsubsection{Minimum objective}
To be scored in this contest the sailing boat must stay within the R=20m circle
(red circle)
during the first minute after entering it; also, the final point Pc must be
inside that red circle.
\subsubsection{Time limit}
The total time limit for this contest is 10 minutes: after the start signal,
boats will have 5
minutes to enter the red circle and then 5 minutes to complete the challenge.

\subsection{Area scanning}

The objective of the area scanning challenge is to measure the ability of the
sailboats to perform
a navigation path suitable to sample a closed region. The course area will be
divided in 20m x
20m squares and the objective is to visit as many squares as possible, within
the maximum
allowed time. A square is considered visited if at least one track point is
registered within that
square.
The challenge starts when the sailboat enters the start line and finishes when
the sailboat
crosses the finish line, before exhausting the maximum time allowed for this
challenge (30
mins). Boats will be ranked by counting first the number of squares visited and
then comparing the percentage of the track points that are within the course
area, delimited by the
blue line in figure 4. The boats not crossing the start line will be classified
DNS (did not start)
and assigned a ranking position equal to the number of boats registered in that
class plus one.
The boats that start the course but do not succeed to cross the finish line
within the maximum
time will be scored DNF (did not finish) and assigned a ranking equal to the
number of registered
boats in his class. The course area will be set as a “L” shape region composed
by 75 squares, arranged as a 200m
x 100m rectangle (50 squares) and a 100m x 100m adjacent square (25 squares), as
shown in
figure 4. The course for the micro-sailboat (MS) class will be smaller, with
160m x 80m plus 80m
x 80m (total of 48 squares, representing 64% of the larger course). The courses
will be positioned
with the large side facing windward, as shown in figure 4.

\subsubsection{Scoring}

Figures 5, 6 and 7 show a few examples of possible courses, with the
correspondent scores. In
figure 5 both boats succeed visiting all the 75 squares, but the 1st place will
be assigned to the
track on the left because the length of the track outside the course area
(measured as the
number of track points) is smaller than the track on the right. Figure 6 show 3
examples of a
partial accomplishment of the area-scan challenge and the DNS and DNF situations
are
exemplified in figure 7.

\subsubsection{Minimum objective}
To be qualified in this challenge, a sailboat must cross the start line and the
finish line within
the time limit (illustrated by the rightmost example in figure 6).
\subsubsection{Time limit}
The time limit for this challenge is 30 minutes.


\subsection{Collision avoidance}

The collision avoidance challenge will evaluate the ability of a sailing boat to
detect and deviate
from an unexpected obstacle appearing in its path. The course area will be set
with four
waypoints forming a 150m x 20m rectangle, with one longest side facing windward
(see figure
8). Sailboats must enter the rectangle by one of the shortest sides, keep
sailing within the
rectangle to the opposite short side, turning back after crossing each short
side. After
completing at least two legs, a physical obstacle will be placed in the course
area before the
sailboat turns back into its direction.

The obstacle will occupy the whole 20m of the course width and will be placed
somewhere
between 50m from each short side (the pink region in figure 8). The sailboat
should deviate
from the obstacle, not touching it, and return to the course as soon as possible
to complete at
least one more full leg. The “obstacle” will be made with one or two red or
orange RIBs, towing
a line with red or orange balloons with gaps between them not larger than 1m.
After placed in
position, the RIBs will do their best to maintain the obstacle in place.

\subsubsection{Scoring}
The sailboats will be scored according to the following table (refer to figure
9)
1. the sailboat did not clearly initiate a maneuver to deviate from the
obstacle: 0 points (red
path);
2. the sailboat did start a maneuver to move away from the obstacle, but she
hits the obstacle: 2
points (violet);
the sailboat did deviate from the obstacle not touching it, but failed to return
to the course
area within 5 minutes: 5 points (orange);
4. the sailboat did deviate from the obstacle not touching it and did return to
the course area,
but failed to complete the last full leg: 10 points (blue);
5. the sailboat succeeded completing the obstacle avoidance challenge: 15 points

To break a tie in cases 4 and 5, the number of track points outside the course
area will be
considered, as the percentage of the number of track points registered in the
last full leg. For
example, if in the last leg (from one short side to the other short side) a
sailboat has recorded
100 track points and for avoiding the obstacle she registered 25 track points
outside the
course rectangle, she will be scored with 25 (the smaller the better).

\subsubsection{Minimum objective}
To be scored in this challenge, a sailboat must keep sailing valid legs, without
crossing the long
sides of the rectangle, until the obstacle is positioned.

\subsubsection{Time limit}
The time limit for this challenge will be set to 30 minutes.

\end{document}

